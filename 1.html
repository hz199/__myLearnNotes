<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

</head>

<body>
  <script>

    // 容器数据记录当前数据出现的次数，然后与原始数组的长度对比
    var findCenter = function (edges) {
      /* 
           根据题意可知 中心节点出现的次数 等于 edges.length 的长度 而其他节点出现的次数只会出现一次 
           故可以通过构建哈希表 存储 节点-出现次数
           当遇到次数等于 edges.length 时 此时的节点即为所求的中心节点
           可以巧用数组构造哈希map 因为 3 <= n <= 105
       */
      const l = edges.length,
        hash = new WeakMap()
      let i = l,
        u, v

      // console.log(hash)

      while (i--) {
        [u, v] = edges[i]

        if (!hash[u]) {
          hash[u] = 0
          ++hash[u]
        } else {
          if (++hash[u] === l) return u
        }

        if (!hash[v]) {
          hash[v] = 0
          ++hash[v]
        } else {
          if (++hash[v] === l) return v
        }

      }
    };

    const edges = [
      [1, 2],
      [5, 1],
      [1, 3],
      [1, 4]
    ]

    console.log(findCenter(edges))
  </script>
</body>

</html>